---
name: clair

packages:
  - bzr
  - clair
  - python

templates:
  bin/clair_ctl.erb: bin/clair_ctl
  config/clair_tls_ca.pem: config/clair_tls_ca.pem
  config/clair_tls_cert.pem: config/clair_tls_cert.pem
  config/clair_tls_key.pem: config/clair_tls_key.pem
  config/clair.yaml: config/clair.yaml

properties:
  clair.log_level:
    description: "Define the logging level (debug, info, warn, error, fatal, panic)"
    default: "info"
  clair.insecure_tls:
    description: "Disable TLS server's certificate chain and hostname verification when pulling layers"
  clair.tls_ca:
    description: "TLS CA certificate (PEM format)"
  clair.tls_cert:
    description: "TLS certificate (PEM format)"
  clair.tls_key:
    description: "TLS private jey (PEM format)"

  env.http_proxy:
    description: "HTTP proxy to use"
  env.https_proxy:
    description: "HTTPS proxy to use"
  env.no_proxy:
    description: "List of comma-separated hosts that should skip connecting to the proxy"
